{"version":3,"sources":["webpack:///cross-domain-utils.min.js","webpack:///webpack/bootstrap 070b430e99f6c1c032d5","webpack:///./src/index.js","webpack:///./src/util.js"],"names":["crossDomainUtils","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","./src/index.js","isFileProtocol","arguments","length","undefined","window","location","protocol","CONSTANTS","FILE_PROTOCOL","isAboutProtocol","ABOUT_PROTOCOL","getParent","win","parent","err","getOpener","opener","canReadFromWindow","_util","noop","href","getActualDomain","Error","host","getDomain","domain","mockDomain","indexOf","MOCK_PROTOCOL","isBlankDomain","isActuallySameDomain","desc","getOwnPropertyDescriptor","isSameDomain","getParents","result","push","isAncestorParent","child","childParent","getFrames","frames","len","frame","getAllChildFrames","_iterator","_isArray","Array","isArray","_i2","Symbol","iterator","_ref","next","done","value","_iterator2","_isArray2","_i3","_ref2","childFrame","getTop","top","_iterator3","_isArray3","_i4","_ref3","getAllFramesInWindow","concat","isTop","isFrameWindowClosed","contentWindow","parentNode","doc","ownerDocument","body","contains","safeIndexOf","collection","item","isWindowClosed","allowMock","closed","message","IE_WIN_ACCESS_ERROR","mockclosed","iframeIndex","iframeWindows","iframeFrames","cleanIframes","splice","linkFrameWindow","getUserAgent","navigator","mockUserAgent","userAgent","getFrameByName","winFrames","_iterator4","_isArray4","_i6","_ref4","findChildFrameByName","_iterator5","_isArray5","_i7","_ref5","namedFrame","findFrameByName","isParent","frameParent","_iterator6","_isArray6","_i8","_ref6","isOpener","getAncestor","getAncestors","results","ancestor","isAncestor","actualParent","_iterator7","_isArray7","_i9","_ref7","isPopup","Boolean","isIframe","isFullpage","anyMatch","collection1","collection2","_iterator8","_isArray8","_i10","_ref8","item1","_iterator9","_isArray9","_i11","_ref9","getDistanceFromTop","distance","getNthParent","getNthParentFromTop","isSameTopWindow","win1","win2","top1","top2","allFrames1","allFrames2","opener1","opener2","matchDomain","pattern","origin","WILDCARD","isRegex","toString","match","JSON","stringify","some","subpattern","getDomainFromUrl","url","split","slice","join","onCloseWindow","callback","delay","maxtime","Infinity","timeout","check","clearTimeout","setTimeout","cancel","isWindow","obj","Window","self","__cross_domain_utils_window_check__","./src/util.js"],"mappings":"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","file":"cross-domain-utils.min.js","sourcesContent":["var crossDomainUtils =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/index.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isFileProtocol = isFileProtocol;\nexports.isAboutProtocol = isAboutProtocol;\nexports.getParent = getParent;\nexports.getOpener = getOpener;\nexports.canReadFromWindow = canReadFromWindow;\nexports.getActualDomain = getActualDomain;\nexports.getDomain = getDomain;\nexports.isBlankDomain = isBlankDomain;\nexports.isActuallySameDomain = isActuallySameDomain;\nexports.isSameDomain = isSameDomain;\nexports.getParents = getParents;\nexports.isAncestorParent = isAncestorParent;\nexports.getFrames = getFrames;\nexports.getAllChildFrames = getAllChildFrames;\nexports.getTop = getTop;\nexports.getAllFramesInWindow = getAllFramesInWindow;\nexports.isTop = isTop;\nexports.isFrameWindowClosed = isFrameWindowClosed;\nexports.isWindowClosed = isWindowClosed;\nexports.linkFrameWindow = linkFrameWindow;\nexports.getUserAgent = getUserAgent;\nexports.getFrameByName = getFrameByName;\nexports.findChildFrameByName = findChildFrameByName;\nexports.findFrameByName = findFrameByName;\nexports.isParent = isParent;\nexports.isOpener = isOpener;\nexports.getAncestor = getAncestor;\nexports.getAncestors = getAncestors;\nexports.isAncestor = isAncestor;\nexports.isPopup = isPopup;\nexports.isIframe = isIframe;\nexports.isFullpage = isFullpage;\nexports.getDistanceFromTop = getDistanceFromTop;\nexports.getNthParent = getNthParent;\nexports.getNthParentFromTop = getNthParentFromTop;\nexports.isSameTopWindow = isSameTopWindow;\nexports.matchDomain = matchDomain;\nexports.getDomainFromUrl = getDomainFromUrl;\nexports.onCloseWindow = onCloseWindow;\nexports.isWindow = isWindow;\n\nvar _util = __webpack_require__(\"./src/util.js\");\n\nvar CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    ABOUT_PROTOCOL: 'about:',\n    WILDCARD: '*'\n};\n\nvar IE_WIN_ACCESS_ERROR = 'Call was rejected by callee.\\r\\n';\n\nfunction isFileProtocol() {\n    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\n    return win.location.protocol === CONSTANTS.FILE_PROTOCOL;\n}\n\nfunction isAboutProtocol() {\n    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\n    return win.location.protocol === CONSTANTS.ABOUT_PROTOCOL;\n}\n\nfunction getParent(win) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nfunction getOpener(win) {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\nfunction canReadFromWindow(win) {\n    try {\n        // $FlowFixMe\n        (0, _util.noop)(win && win.location && win.location.href);\n        return true;\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nfunction getActualDomain(win) {\n\n    var location = win.location;\n\n    if (!location) {\n        throw new Error('Can not read window location');\n    }\n\n    var protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error('Can not read window protocol');\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return CONSTANTS.FILE_PROTOCOL + '//';\n    }\n\n    if (protocol === CONSTANTS.ABOUT_PROTOCOL) {\n\n        var parent = getParent(win);\n        if (parent && canReadFromWindow(win)) {\n            // $FlowFixMe\n            return getActualDomain(parent);\n        }\n\n        return CONSTANTS.ABOUT_PROTOCOL + '//';\n    }\n\n    var host = location.host;\n\n    if (!host) {\n        throw new Error('Can not read window host');\n    }\n\n    return protocol + '//' + host;\n}\n\nfunction getDomain(win) {\n\n    win = win || window;\n\n    var domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nfunction isBlankDomain(win) {\n    try {\n        if (!win.location.href) {\n            return true;\n        }\n\n        if (win.location.href === 'about:blank') {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nfunction isActuallySameDomain(win) {\n\n    try {\n        if (win === window) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        var desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nfunction isSameDomain(win) {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n\n        if (win === window) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nfunction getParents(win) {\n\n    var result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nfunction isAncestorParent(parent, child) {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    var childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction getFrames(win) {\n\n    var result = [];\n\n    var frames = void 0;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    var len = void 0;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (var i = 0; i < len; i++) {\n\n            var frame = void 0;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (var _i = 0; _i < 100; _i++) {\n        var _frame = void 0;\n\n        try {\n            _frame = frames[_i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!_frame) {\n            return result;\n        }\n\n        result.push(_frame);\n    }\n\n    return result;\n}\n\nfunction getAllChildFrames(win) {\n\n    var result = [];\n\n    for (var _iterator = getFrames(win), _isArray = Array.isArray(_iterator), _i2 = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref;\n\n        if (_isArray) {\n            if (_i2 >= _iterator.length) break;\n            _ref = _iterator[_i2++];\n        } else {\n            _i2 = _iterator.next();\n            if (_i2.done) break;\n            _ref = _i2.value;\n        }\n\n        var frame = _ref;\n\n        result.push(frame);\n\n        for (var _iterator2 = getAllChildFrames(frame), _isArray2 = Array.isArray(_iterator2), _i3 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n            var _ref2;\n\n            if (_isArray2) {\n                if (_i3 >= _iterator2.length) break;\n                _ref2 = _iterator2[_i3++];\n            } else {\n                _i3 = _iterator2.next();\n                if (_i3.done) break;\n                _ref2 = _i3.value;\n            }\n\n            var childFrame = _ref2;\n\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nfunction getTop(win) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (var _iterator3 = getAllChildFrames(win), _isArray3 = Array.isArray(_iterator3), _i4 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n        var _ref3;\n\n        if (_isArray3) {\n            if (_i4 >= _iterator3.length) break;\n            _ref3 = _iterator3[_i4++];\n        } else {\n            _i4 = _iterator3.next();\n            if (_i4.done) break;\n            _ref3 = _i4.value;\n        }\n\n        var frame = _ref3;\n\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\nfunction getAllFramesInWindow(win) {\n    var top = getTop(win);\n    // $FlowFixMe\n    return getAllChildFrames(top).concat(top);\n}\n\nfunction isTop(win) {\n    return win === getTop(win);\n}\n\nfunction isFrameWindowClosed(frame) {\n\n    if (!frame.contentWindow) {\n        return true;\n    }\n\n    if (!frame.parentNode) {\n        return true;\n    }\n\n    var doc = frame.ownerDocument;\n\n    if (doc && doc.body && !doc.body.contains(frame)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction safeIndexOf(collection, item) {\n    for (var i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\nvar iframeWindows = [];\nvar iframeFrames = [];\n\nfunction isWindowClosed(win) {\n    var allowMock = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (!win) {\n            return true;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return false;\n        }\n\n        return true;\n    }\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {}\n    // pass\n\n\n    // Yes, this actually happens in IE. win === win errors out when the window\n    // is from an iframe, and the iframe was removed from the page.\n\n    try {\n        (0, _util.noop)(win === win); // eslint-disable-line no-self-compare\n    } catch (err) {\n        return true;\n    }\n\n    // IE orphaned frame\n\n    var iframeIndex = safeIndexOf(iframeWindows, win);\n\n    if (iframeIndex !== -1) {\n        var frame = iframeFrames[iframeIndex];\n\n        if (frame && isFrameWindowClosed(frame)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction cleanIframes() {\n\n    for (var i = 0; i < iframeFrames.length; i++) {\n        if (isFrameWindowClosed(iframeFrames[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n\n    for (var _i5 = 0; _i5 < iframeWindows.length; _i5++) {\n        if (isWindowClosed(iframeWindows[_i5])) {\n            iframeFrames.splice(_i5, 1);\n            iframeWindows.splice(_i5, 1);\n        }\n    }\n}\n\nfunction linkFrameWindow(frame) {\n\n    cleanIframes();\n\n    if (frame && frame.contentWindow) {\n        try {\n            iframeWindows.push(frame.contentWindow);\n            iframeFrames.push(frame);\n        } catch (err) {\n            // pass\n        }\n    }\n}\n\nfunction getUserAgent(win) {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\nfunction getFrameByName(win, name) {\n\n    var winFrames = getFrames(win);\n\n    for (var _iterator4 = winFrames, _isArray4 = Array.isArray(_iterator4), _i6 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n        var _ref4;\n\n        if (_isArray4) {\n            if (_i6 >= _iterator4.length) break;\n            _ref4 = _iterator4[_i6++];\n        } else {\n            _i6 = _iterator4.next();\n            if (_i6.done) break;\n            _ref4 = _i6.value;\n        }\n\n        var childFrame = _ref4;\n\n        try {\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        // $FlowFixMe\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            // $FlowFixMe\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nfunction findChildFrameByName(win, name) {\n\n    var frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (var _iterator5 = getFrames(win), _isArray5 = Array.isArray(_iterator5), _i7 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n        var _ref5;\n\n        if (_isArray5) {\n            if (_i7 >= _iterator5.length) break;\n            _ref5 = _iterator5[_i7++];\n        } else {\n            _i7 = _iterator5.next();\n            if (_i7.done) break;\n            _ref5 = _i7.value;\n        }\n\n        var childFrame = _ref5;\n\n        var namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nfunction findFrameByName(win, name) {\n\n    var frame = void 0;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    var top = getTop(win) || win;\n\n    return findChildFrameByName(top, name);\n}\n\nfunction isParent(win, frame) {\n\n    var frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (var _iterator6 = getFrames(win), _isArray6 = Array.isArray(_iterator6), _i8 = 0, _iterator6 = _isArray6 ? _iterator6 : _iterator6[Symbol.iterator]();;) {\n        var _ref6;\n\n        if (_isArray6) {\n            if (_i8 >= _iterator6.length) break;\n            _ref6 = _iterator6[_i8++];\n        } else {\n            _i8 = _iterator6.next();\n            if (_i8.done) break;\n            _ref6 = _i8.value;\n        }\n\n        var childFrame = _ref6;\n\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction isOpener(parent, child) {\n\n    return parent === getOpener(child);\n}\n\nfunction getAncestor(win) {\n    win = win || window;\n\n    var opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    var parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nfunction getAncestors(win) {\n\n    var results = [];\n\n    var ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\nfunction isAncestor(parent, child) {\n\n    var actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (var _iterator7 = getFrames(parent), _isArray7 = Array.isArray(_iterator7), _i9 = 0, _iterator7 = _isArray7 ? _iterator7 : _iterator7[Symbol.iterator]();;) {\n        var _ref7;\n\n        if (_isArray7) {\n            if (_i9 >= _iterator7.length) break;\n            _ref7 = _iterator7[_i9++];\n        } else {\n            _i9 = _iterator7.next();\n            if (_i9.done) break;\n            _ref7 = _i9.value;\n        }\n\n        var frame = _ref7;\n\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction isPopup() {\n    return Boolean(getOpener(window));\n}\n\nfunction isIframe() {\n    return Boolean(getParent(window));\n}\n\nfunction isFullpage() {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) {\n\n    for (var _iterator8 = collection1, _isArray8 = Array.isArray(_iterator8), _i10 = 0, _iterator8 = _isArray8 ? _iterator8 : _iterator8[Symbol.iterator]();;) {\n        var _ref8;\n\n        if (_isArray8) {\n            if (_i10 >= _iterator8.length) break;\n            _ref8 = _iterator8[_i10++];\n        } else {\n            _i10 = _iterator8.next();\n            if (_i10.done) break;\n            _ref8 = _i10.value;\n        }\n\n        var item1 = _ref8;\n\n        for (var _iterator9 = collection2, _isArray9 = Array.isArray(_iterator9), _i11 = 0, _iterator9 = _isArray9 ? _iterator9 : _iterator9[Symbol.iterator]();;) {\n            var _ref9;\n\n            if (_isArray9) {\n                if (_i11 >= _iterator9.length) break;\n                _ref9 = _iterator9[_i11++];\n            } else {\n                _i11 = _iterator9.next();\n                if (_i11.done) break;\n                _ref9 = _i11.value;\n            }\n\n            var item2 = _ref9;\n\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nfunction getDistanceFromTop() {\n    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\n    var distance = 0;\n    var parent = win;\n\n    while (parent) {\n        parent = getParent(parent);\n        if (parent) {\n            distance += 1;\n        }\n    }\n\n    return distance;\n}\n\nfunction getNthParent(win) {\n    var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n    var parent = win;\n\n    for (var i = 0; i < n; i++) {\n        if (!parent) {\n            return;\n        }\n\n        parent = getParent(parent);\n    }\n\n    return parent;\n}\n\nfunction getNthParentFromTop(win) {\n    var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n    return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nfunction isSameTopWindow(win1, win2) {\n\n    var top1 = getTop(win1) || win1;\n    var top2 = getTop(win2) || win2;\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    var allFrames1 = getAllFramesInWindow(win1);\n    var allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    var opener1 = getOpener(top1);\n    var opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n\n    return false;\n}\n\nfunction matchDomain(pattern, origin) {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if ((0, _util.isRegex)(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if ((0, _util.isRegex)(pattern)) {\n\n        if ((0, _util.isRegex)(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        // $FlowFixMe\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if ((0, _util.isRegex)(origin)) {\n            return false;\n        }\n\n        return pattern.some(function (subpattern) {\n            return matchDomain(subpattern, origin);\n        });\n    }\n\n    return false;\n}\n\nfunction getDomainFromUrl(url) {\n\n    var domain = void 0;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\nfunction onCloseWindow(win, callback) {\n    var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n    var maxtime = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Infinity;\n\n\n    var timeout = void 0;\n\n    var check = function check() {\n\n        if (isWindowClosed(win)) {\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            return callback();\n        }\n\n        if (maxtime <= 0) {\n            clearTimeout(timeout);\n        } else {\n            maxtime -= delay;\n            timeout = setTimeout(check, delay);\n        }\n    };\n\n    check();\n\n    return {\n        cancel: function cancel() {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    };\n}\n\nfunction isWindow(obj) {\n\n    try {\n        if (obj === window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (Object.prototype.toString.call(obj) === '[object Window]') {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (window.Window && obj instanceof window.Window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.self === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.parent === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.top === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        (0, _util.noop)(obj === obj); // eslint-disable-line no-self-compare\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        (0, _util.noop)(obj && obj.__cross_domain_utils_window_check__);\n    } catch (err) {\n        return true;\n    }\n\n    return false;\n}\n\n/***/ }),\n\n/***/ \"./src/util.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isRegex = isRegex;\nexports.noop = noop;\nfunction isRegex(item) {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\nfunction noop() {\n    // pass\n}\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// cross-domain-utils.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 070b430e99f6c1c032d5","// @flow\n\nimport { isRegex, noop } from './util';\n\nconst CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    ABOUT_PROTOCOL: 'about:',\n    WILDCARD: '*'\n};\n\nlet IE_WIN_ACCESS_ERROR = 'Call was rejected by callee.\\r\\n';\n\nexport function isFileProtocol(win : SameDomainWindowType = window) : boolean {\n    return win.location.protocol === CONSTANTS.FILE_PROTOCOL;\n}\n\nexport function isAboutProtocol(win : SameDomainWindowType = window) : boolean {\n    return win.location.protocol === CONSTANTS.ABOUT_PROTOCOL;\n}\n\nexport function getParent(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nexport function getOpener(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\nexport function canReadFromWindow(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n    try {\n        // $FlowFixMe\n        noop(win && win.location && win.location.href);\n        return true;\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getActualDomain(win : SameDomainWindowType) : string {\n\n    let location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    let protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return `${CONSTANTS.FILE_PROTOCOL }//`;\n    }\n\n    if (protocol === CONSTANTS.ABOUT_PROTOCOL) {\n\n        let parent = getParent(win);\n        if (parent && canReadFromWindow(win)) {\n            // $FlowFixMe\n            return getActualDomain(parent);\n        }\n\n        return `${CONSTANTS.ABOUT_PROTOCOL}//`;\n    }\n\n    let host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${protocol}//${host}`;\n}\n\nexport function getDomain(win : ?SameDomainWindowType) : string {\n\n    win = win || window;\n\n    let domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isBlankDomain(win : CrossDomainWindowType) : boolean {\n    try {\n        if (!win.location.href) {\n            return true;\n        }\n\n        if (win.location.href === 'about:blank') {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isActuallySameDomain(win : CrossDomainWindowType) : boolean {\n\n    try {\n        if (win === window) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        let desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n\n        if (win === window) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\n\n\nexport function getParents(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    let childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    for (let frame of getFrames(win)) {\n        result.push(frame);\n\n        for (let childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win : CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (let frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\nexport function getAllFramesInWindow(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n    let top = getTop(win);\n    // $FlowFixMe\n    return getAllChildFrames(top).concat(top);\n}\n\nexport function isTop(win : CrossDomainWindowType) : boolean {\n    return win === getTop(win);\n}\n\nexport function isFrameWindowClosed(frame : HTMLIFrameElement) : boolean {\n\n    if (!frame.contentWindow) {\n        return true;\n    }\n\n    if (!frame.parentNode) {\n        return true;\n    }\n\n    let doc = frame.ownerDocument;\n\n    if (doc && doc.body && !doc.body.contains(frame)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction safeIndexOf<T>(collection : Array<T>, item : T) : number {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\nlet iframeWindows = [];\nlet iframeFrames = [];\n\nexport function isWindowClosed(win : CrossDomainWindowType, allowMock : boolean = true) : boolean {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    // Yes, this actually happens in IE. win === win errors out when the window\n    // is from an iframe, and the iframe was removed from the page.\n\n    try {\n        noop(win === win); // eslint-disable-line no-self-compare\n    } catch (err) {\n        return true;\n    }\n\n    // IE orphaned frame\n\n    let iframeIndex = safeIndexOf(iframeWindows, win);\n\n    if (iframeIndex !== -1) {\n        let frame = iframeFrames[iframeIndex];\n\n        if (frame && isFrameWindowClosed(frame)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction cleanIframes() {\n\n    for (let i = 0; i < iframeFrames.length; i++) {\n        if (isFrameWindowClosed(iframeFrames[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n\n    for (let i = 0; i < iframeWindows.length; i++) {\n        if (isWindowClosed(iframeWindows[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n}\n\nexport function linkFrameWindow(frame : HTMLIFrameElement) {\n\n    cleanIframes();\n\n    if (frame && frame.contentWindow) {\n        try {\n            iframeWindows.push(frame.contentWindow);\n            iframeFrames.push(frame);\n        } catch (err) {\n            // pass\n        }\n    }\n}\n\nexport function getUserAgent(win : ?SameDomainWindowType) : string {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let winFrames = getFrames(win);\n\n    for (let childFrame of winFrames) {\n        try {\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        // $FlowFixMe\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            // $FlowFixMe\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        let namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    let top = getTop(win) || win;\n\n    return findChildFrameByName(top, name);\n}\n\nexport function isParent(win : CrossDomainWindowType, frame : CrossDomainWindowType) : boolean {\n\n    let frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n    win = win || window;\n\n    let opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    let parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    let actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (let frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup() : boolean {\n    return Boolean(getOpener(window));\n}\n\nexport function isIframe() : boolean {\n    return Boolean(getParent(window));\n}\n\nexport function isFullpage() : boolean {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) : boolean {\n\n    for (let item1 of collection1) {\n        for (let item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nexport function getDistanceFromTop(win : CrossDomainWindowType = window) : number {\n    let distance = 0;\n    let parent = win;\n\n    while (parent) {\n        parent = getParent(parent);\n        if (parent) {\n            distance += 1;\n        }\n    }\n\n    return distance;\n}\n\nexport function getNthParent(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    let parent = win;\n\n    for (let i = 0; i < n; i++) {\n        if (!parent) {\n            return;\n        }\n\n        parent = getParent(parent);\n    }\n\n    return parent;\n}\n\nexport function getNthParentFromTop(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nexport function isSameTopWindow(win1 : CrossDomainWindowType, win2 : CrossDomainWindowType) : boolean {\n\n    let top1 = getTop(win1) || win1;\n    let top2 = getTop(win2) || win2;\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    let allFrames1 = getAllFramesInWindow(win1);\n    let allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    let opener1 = getOpener(top1);\n    let opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n\n    return false;\n}\n\nexport function matchDomain(pattern : (string | Array<string> | RegExp), origin : (string | Array<string> | RegExp)) : boolean {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        // $FlowFixMe\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function getDomainFromUrl(url : string) : string {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\nexport function onCloseWindow(win : CrossDomainWindowType, callback : Function, delay : number = 1000, maxtime : number = Infinity) : { cancel : () => void } {\n\n    let timeout;\n\n    let check = () => {\n\n        if (isWindowClosed(win)) {\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            return callback();\n        }\n\n        if (maxtime <= 0) {\n            clearTimeout(timeout);\n        } else {\n            maxtime -= delay;\n            timeout = setTimeout(check, delay);\n        }\n    };\n\n    check();\n\n    return {\n        cancel() {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    };\n}\n\nexport function isWindow(obj : Object) : boolean {\n\n    try {\n        if (obj === window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (Object.prototype.toString.call(obj) === '[object Window]') {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (window.Window && obj instanceof window.Window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.self === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.parent === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.top === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        noop(obj === obj);  // eslint-disable-line no-self-compare\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        noop(obj && obj.__cross_domain_utils_window_check__);\n\n    } catch (err) {\n        return true;\n    }\n\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// @flow\n\nexport function isRegex(item : mixed) : boolean {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\nexport function noop(...args : Array<mixed>) {\n    // pass\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}