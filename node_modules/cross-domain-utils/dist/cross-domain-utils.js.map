{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 527120f7a1d94ae507d3","webpack:///./src/index.js","webpack:///./src/util.js"],"names":["isFileProtocol","isAboutProtocol","getParent","getOpener","canReadFromWindow","getActualDomain","getDomain","isBlankDomain","isActuallySameDomain","isSameDomain","getParents","isAncestorParent","getFrames","getAllChildFrames","getTop","getAllFramesInWindow","isTop","isFrameWindowClosed","isWindowClosed","linkFrameWindow","getUserAgent","getFrameByName","findChildFrameByName","findFrameByName","isParent","isOpener","getAncestor","getAncestors","isAncestor","isPopup","isIframe","isFullpage","getDistanceFromTop","getNthParent","getNthParentFromTop","isSameTopWindow","matchDomain","getDomainFromUrl","onCloseWindow","isWindow","CONSTANTS","MOCK_PROTOCOL","FILE_PROTOCOL","ABOUT_PROTOCOL","WILDCARD","IE_WIN_ACCESS_ERROR","win","window","location","protocol","parent","err","opener","href","Error","host","domain","mockDomain","indexOf","desc","Object","getOwnPropertyDescriptor","enumerable","result","push","child","childParent","frames","len","length","i","frame","childFrame","top","concat","contentWindow","parentNode","doc","ownerDocument","body","contains","safeIndexOf","collection","item","iframeWindows","iframeFrames","allowMock","closed","message","mockclosed","iframeIndex","cleanIframes","splice","navigator","mockUserAgent","userAgent","name","winFrames","namedFrame","frameParent","results","ancestor","actualParent","Boolean","anyMatch","collection1","collection2","item1","item2","distance","n","win1","win2","top1","top2","allFrames1","allFrames2","opener1","opener2","pattern","origin","Array","isArray","toString","match","JSON","stringify","some","subpattern","url","split","slice","join","callback","delay","maxtime","Infinity","timeout","check","clearTimeout","setTimeout","cancel","obj","prototype","call","Window","self","__cross_domain_utils_window_check__","isRegex","noop"],"mappings":"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","file":"cross-domain-utils.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"crossDomainUtils\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"crossDomainUtils\"] = factory();\n\telse\n\t\troot[\"crossDomainUtils\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 527120f7a1d94ae507d3","// @flow\n\nimport { isRegex, noop } from './util';\n\nconst CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    ABOUT_PROTOCOL: 'about:',\n    WILDCARD: '*'\n};\n\nlet IE_WIN_ACCESS_ERROR = 'Call was rejected by callee.\\r\\n';\n\nexport function isFileProtocol(win : SameDomainWindowType = window) : boolean {\n    return win.location.protocol === CONSTANTS.FILE_PROTOCOL;\n}\n\nexport function isAboutProtocol(win : SameDomainWindowType = window) : boolean {\n    return win.location.protocol === CONSTANTS.ABOUT_PROTOCOL;\n}\n\nexport function getParent(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nexport function getOpener(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\nexport function canReadFromWindow(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n    try {\n        // $FlowFixMe\n        noop(win && win.location && win.location.href);\n        return true;\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getActualDomain(win : SameDomainWindowType) : string {\n\n    let location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    let protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return `${CONSTANTS.FILE_PROTOCOL }//`;\n    }\n\n    if (protocol === CONSTANTS.ABOUT_PROTOCOL) {\n\n        let parent = getParent(win);\n        if (parent && canReadFromWindow(win)) {\n            // $FlowFixMe\n            return getActualDomain(parent);\n        }\n\n        return `${CONSTANTS.ABOUT_PROTOCOL}//`;\n    }\n\n    let host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${protocol}//${host}`;\n}\n\nexport function getDomain(win : ?SameDomainWindowType) : string {\n\n    win = win || window;\n\n    let domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isBlankDomain(win : CrossDomainWindowType) : boolean {\n    try {\n        if (!win.location.href) {\n            return true;\n        }\n\n        if (win.location.href === 'about:blank') {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isActuallySameDomain(win : CrossDomainWindowType) : boolean {\n\n    try {\n        if (win === window) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        let desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n\n        if (win === window) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\n\n\nexport function getParents(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    let childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    for (let frame of getFrames(win)) {\n        result.push(frame);\n\n        for (let childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win : CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (let frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\nexport function getAllFramesInWindow(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n    let top = getTop(win);\n    // $FlowFixMe\n    return getAllChildFrames(top).concat(top);\n}\n\nexport function isTop(win : CrossDomainWindowType) : boolean {\n    return win === getTop(win);\n}\n\nexport function isFrameWindowClosed(frame : HTMLIFrameElement) : boolean {\n\n    if (!frame.contentWindow) {\n        return true;\n    }\n\n    if (!frame.parentNode) {\n        return true;\n    }\n\n    let doc = frame.ownerDocument;\n\n    if (doc && doc.body && !doc.body.contains(frame)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction safeIndexOf<T>(collection : Array<T>, item : T) : number {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\nlet iframeWindows = [];\nlet iframeFrames = [];\n\nexport function isWindowClosed(win : CrossDomainWindowType, allowMock : boolean = true) : boolean {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    // Yes, this actually happens in IE. win === win errors out when the window\n    // is from an iframe, and the iframe was removed from the page.\n\n    try {\n        noop(win === win); // eslint-disable-line no-self-compare\n    } catch (err) {\n        return true;\n    }\n\n    // IE orphaned frame\n\n    let iframeIndex = safeIndexOf(iframeWindows, win);\n\n    if (iframeIndex !== -1) {\n        let frame = iframeFrames[iframeIndex];\n\n        if (frame && isFrameWindowClosed(frame)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction cleanIframes() {\n\n    for (let i = 0; i < iframeFrames.length; i++) {\n        if (isFrameWindowClosed(iframeFrames[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n\n    for (let i = 0; i < iframeWindows.length; i++) {\n        if (isWindowClosed(iframeWindows[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n}\n\nexport function linkFrameWindow(frame : HTMLIFrameElement) {\n\n    cleanIframes();\n\n    if (frame && frame.contentWindow) {\n        try {\n            iframeWindows.push(frame.contentWindow);\n            iframeFrames.push(frame);\n        } catch (err) {\n            // pass\n        }\n    }\n}\n\nexport function getUserAgent(win : ?SameDomainWindowType) : string {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let winFrames = getFrames(win);\n\n    for (let childFrame of winFrames) {\n        try {\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        // $FlowFixMe\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            // $FlowFixMe\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        let namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    let top = getTop(win) || win;\n\n    return findChildFrameByName(top, name);\n}\n\nexport function isParent(win : CrossDomainWindowType, frame : CrossDomainWindowType) : boolean {\n\n    let frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n    win = win || window;\n\n    let opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    let parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    let actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (let frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup() : boolean {\n    return Boolean(getOpener(window));\n}\n\nexport function isIframe() : boolean {\n    return Boolean(getParent(window));\n}\n\nexport function isFullpage() : boolean {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) : boolean {\n\n    for (let item1 of collection1) {\n        for (let item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nexport function getDistanceFromTop(win : CrossDomainWindowType = window) : number {\n    let distance = 0;\n    let parent = win;\n\n    while (parent) {\n        parent = getParent(parent);\n        if (parent) {\n            distance += 1;\n        }\n    }\n\n    return distance;\n}\n\nexport function getNthParent(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    let parent = win;\n\n    for (let i = 0; i < n; i++) {\n        if (!parent) {\n            return;\n        }\n\n        parent = getParent(parent);\n    }\n\n    return parent;\n}\n\nexport function getNthParentFromTop(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nexport function isSameTopWindow(win1 : CrossDomainWindowType, win2 : CrossDomainWindowType) : boolean {\n\n    let top1 = getTop(win1) || win1;\n    let top2 = getTop(win2) || win2;\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    let allFrames1 = getAllFramesInWindow(win1);\n    let allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    let opener1 = getOpener(top1);\n    let opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n\n    return false;\n}\n\nexport function matchDomain(pattern : (string | Array<string> | RegExp), origin : (string | Array<string> | RegExp)) : boolean {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        // $FlowFixMe\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function getDomainFromUrl(url : string) : string {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\nexport function onCloseWindow(win : CrossDomainWindowType, callback : Function, delay : number = 1000, maxtime : number = Infinity) : { cancel : () => void } {\n\n    let timeout;\n\n    let check = () => {\n\n        if (isWindowClosed(win)) {\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            return callback();\n        }\n\n        if (maxtime <= 0) {\n            clearTimeout(timeout);\n        } else {\n            maxtime -= delay;\n            timeout = setTimeout(check, delay);\n        }\n    };\n\n    check();\n\n    return {\n        cancel() {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    };\n}\n\nexport function isWindow(obj : Object) : boolean {\n\n    try {\n        if (obj === window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (Object.prototype.toString.call(obj) === '[object Window]') {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (window.Window && obj instanceof window.Window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.self === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.parent === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.top === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        noop(obj === obj);  // eslint-disable-line no-self-compare\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        noop(obj && obj.__cross_domain_utils_window_check__);\n\n    } catch (err) {\n        return true;\n    }\n\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// @flow\n\nexport function isRegex(item : mixed) : boolean {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\nexport function noop(...args : Array<mixed>) {\n    // pass\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}